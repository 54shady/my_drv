数据线既接到NAND FLASH也接到NOR FLASH还接到SDRAM,DM9000等等
怎么样避免干扰？
所以在使用和访问这些设备前要先选中芯片

烧写NAND FLASH，把命令，地址，数据发给它之后
怎么判断完成？
通过状态引脚RnB判断

如何操作NAND FLASH
根据芯片手册，一般过程如下：
发出命令
发出地址
发出数据/读数据

+--------+---------------------------+---------------+
|        | NAND FLASH                | S3C2440       |
+--------+---------------------------+---------------+
| 发命令 | 选中芯片                  | NFCMD=命令值  |
|        | CLE设为高电平             |               |
|        | 在DATA0~DATA7上输出命令值 |               |
|        | 发出一个写脉冲            |               |
+--------+---------------------------+---------------+
| 发地址 | 选中芯片                  | NFADDR=地址值 |
|        | ALE设为高电平             |               |
|        | 在DATA0~DATA7上输出地址值 |               |
|        | 发出一个写脉冲            |               |
+--------+---------------------------+---------------+
| 发数据 | 选中芯片                  | NFDATA=数据值 |
|        | ALE CLE设为低电平         |               |
|        | 在DATA0~DATA7上输出数据值 |               |
|        | 发出一个写脉冲            |               |
+--------+---------------------------+---------------+
| 读数据 | 选中芯片                  | val=NFDATA    |
|        | 发出读脉冲                |               |
|        | 读DATA0~DATA7上的数据值   |               |
+--------+---------------------------+---------------+

用uboot来体验NAND FLASH的操作
+--------------------------+---------------------+----------------------+
| 1. 读ID                  | S3C2440             | uboot                |
+--------------------------+---------------------+----------------------+
| 选中芯片                 | NFCONT的bit1设置为0 | md.l 0x4E000004 1    |
|                          |                     | mw.l 0x4E000004 1    |
+--------------------------+---------------------+----------------------+
| 发出命令0x90             | NFCMD=0x90          | mw.b 0x4E000008 0x90 |
+--------------------------+---------------------+----------------------+
| 发出地址0x00             | NFADDR=0x00         | mw.b 0x4E00000C 0x00 |
+--------------------------+---------------------+----------------------+
| 读数据得到0xEC           | val=NFDATA          | md.b 0x4E000010 1    |
+--------------------------+---------------------+----------------------+
| 读数据得到device code    | val=NFDATA          | md.b 0x4E000010 1    |
| 我的开发板上得到的值是da |                     |                      |
+--------------------------+---------------------+----------------------+
| 退出该状态               | NFCMD=0xFF          | mw.b 0x4E000008 0xFF |
+--------------------------+---------------------+----------------------+


+------------+--------------+
| 地址线条数 | 可表示的范围 |
+------------+--------------+
| 1          | 0 1          |
+------------+--------------+
| 2          | 0 0          |
|            | 0 1          |
|            | 1 0          |
|            | 1 1          |
+------------+--------------+
| n          | 2的n次方     |
+------------+--------------+
| 28         | 256M         |
+------------+--------------+
单板上NAND FLASH大小为256M，所以要2^n = 256*1024*1024 = 268435456
									n = 28(条) 
1条数据线用1位来表示的话最少要28位的地址
为了兼容以后的可能有更大的容量的NAND FLASH所以发出5个周期的地址


把uboot烧到nand 上
nand dump 0
OpenJTAG> nand dump 0
Page 00000000 dump:
        17 00 00 ea 14 f0 9f e5  14 f0 9f e5 14 f0 9f e5
用下面的方法来读出nand上的数据看是否和烧写的一致
+----------------+---------------------+----------------------+
| 2. 读内容      | S3C2440             | uboot                |
+----------------+---------------------+----------------------+
| 选中芯片       | NFCONT的bit1设置为0 | md.l 0x4E000004 1    |
|                |                     | mw.l 0x4E000004 1    |
+----------------+---------------------+----------------------+
| 发出命令0x00   | NFCMD=0x00          | mw.b 0x4E000008 0x00 |
+----------------+---------------------+----------------------+
| 发出地址0x00   | NFADDR=0x00         | mw.b 0x4E00000C 0x00 |
+----------------+---------------------+----------------------+
| 发出地址0x00   | NFADDR=0x00         | mw.b 0x4E00000C 0x00 |
+----------------+---------------------+----------------------+
| 发出地址0x00   | NFADDR=0x00         | mw.b 0x4E00000C 0x00 |
+----------------+---------------------+----------------------+
| 发出地址0x00   | NFADDR=0x00         | mw.b 0x4E00000C 0x00 |
+----------------+---------------------+----------------------+
| 发出地址0x00   | NFADDR=0x00         | mw.b 0x4E00000C 0x00 |
+----------------+---------------------+----------------------+
| 发出命令0x30   | NFCMD=0x30          | mw.b 0x4E000008 0x30 |
+----------------+---------------------+----------------------+
| 读数据得到0x17 | val=NFDATA          | md.b 0x4E000010 1    |
+----------------+---------------------+----------------------+
| 读数据得到0x00 | val=NFDATA          | md.b 0x4E000010 1    |
+----------------+---------------------+----------------------+
| 退出该状态     | NFCMD=0xFF          | mw.b 0x4E000008 0xFF |
+----------------+---------------------+----------------------+
